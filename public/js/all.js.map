{"version":3,"sources":["jquery.clearble.js","AddColumnFilters.js","AjaxCRUD.js","AjaxGet.js","AjaxPost.js","FieldToggle.js","FormErrors.js","ModalForm.js","ReviseSelect.js","TableManager.js","UrlQuery.js","member_edit.js","member_list.js","missing_list.js","app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["/**\n * jquery.clearable.js\n *\n * Adapted from http://stackoverflow.com/questions/6258521/clear-icon-inside-input-text\n * Requires the following CSS:\n    .clearable {\n        background: #fff url(data:image/gif;base64,R0lGODlhBwAHAIAAAP///5KSkiH5BAAAAAAALAAAAAAHAAcAAAIMTICmsGrIXnLxuDMLADs=) no-repeat right -10px center;\n        border: 1px solid #999;\n        padding: 3px 24px 3px 4px; // Second value must match settings.offset\n        border-radius: 3px;\n    }\n    .clearable.x  { background-position: right 10px center; }\n    .clearable.onX{ cursor: pointer; }\n    .clearable::-ms-clear {display: none; width:0; height:0;}\n\n*/\n\n(function ($) {\n    $.fn.clearable = function (options) {\n        var settings = $.extend({\n            animate: false,\n            offset: 24, // Pixels of offset from right end of input\n            // Optional callbacks\n            onInput: function() {},\n            onClear: function() {}\n        }, options);\n\n        // Add class to target if not present\n        this.addClass('clearable');\n        // Events\n        this.on('input', function (evt) {\n            if (settings.animate) {\n                $(this).css({ transition: 'background 0.4s' })\n            }\n            $(this)[_toggle(this.value)]('x');\n            settings.onInput($(this));\n        }).on('mousemove', function(evt){\n            $(this)[_toggle(_isOnX(evt))]('onX');\n        }).on('touchstart click', function(evt){\n            evt.preventDefault();\n            if (_isOnX(evt)) {\n                settings.onClear($(this));\n                $(this).removeClass('x onX').val('').change();\n            }\n        });\n\n        // Determine whether user's mouse is over the 'X'\n        function _isOnX(evt) {\n            return (evt.target.offsetWidth - settings.offset) < (evt.clientX - evt.target.getBoundingClientRect().left);\n        }\n\n        // Add or remove classes based on value\n        function _toggle(value) {\n            return value ? 'addClass' : 'removeClass';\n        }\n\n        return this;\n    };\n\n\n}(jQuery));","/**\n * AddColumnFilters.js\n *\n * Adds dropdown filters to a dataTables.js table\n *\n * @type {\n        dataTables: Object // the instance of dataTables\n    }\n */\nvar AddColumnFilters = {\n    dataTables: null,\n    init: function(options) {\n        $.extend(this, options);\n        this._doAdd();\n    },\n    _doAdd: function() {\n        this.dataTables.api().columns('.filterable').every(function (index) {\n            var column = this;\n            var header = column.header();\n            var select = $('<select><option value=\"\">' + header.innerHTML + '</option></select>')\n                .appendTo($(column.header()).empty())\n                .on('change', function () {\n                    var val = $.fn.dataTable.util.escapeRegex(\n                        $(this).val()\n                    );\n\n                    column\n                        .search(val ? '^' + val + '$' : '', true, false)\n                        .draw();\n                });\n            // Generate dropdown options from column contents.  Replace the blank value (if present) with \"All\"\n            column.data().unique().sort().each(function (d, j) {\n                var label = (d == '') ? 'All' : d;\n                select.append('<option value=\"' + d + '\">' + label + '</option>')\n            });\n\n        });\n    }\n}","/**\n * AjaxCRUD.js -- Manage full crud for AJAX-based lists\n *\n * Usage:\n * var myCRUD = Object.create(AjaxCRUD);\n * myCRUD.init([options]);\n *\n */\n\nvar AjaxCRUD = {\n    ajaxGet: null,\n    ajaxSave: null,\n    ajaxDelete: null,\n    modalForm: null,\n    formSelector: null,\n    addSelector: null,\n    editSelector: null,\n    formSelector: null,\n    idSelector: null,\n    listSelector: null,\n    modalSelector: null,\n    saveSelector: null,\n    deleteSelector: null,\n    submitSelector: null,\n    retrieveFormUrl: null,\n    retrieveListUrl: null,\n    deleteDataUrl: null,\n    init: function(options) {\n        $.extend(this, options);\n        var self = this;\n        this.modalForm = Object.create(ModalForm);\n        this.ajaxGet = Object.create(AjaxGet);\n        this.ajaxSave = Object.create(AjaxPost);\n        this.ajaxDelete = Object.create(AjaxGet);\n        // Retrieve form contents functionality\n        this.ajaxGet.init({\n            ajaxUrl: this.retrieveFormUrl\n        });\n        // Create/Save functionality\n        this.ajaxSave.init({\n            formSelector: this.formSelector,\n            successAction: function(data) {\n                var retrieve = Object.create(AjaxGet);\n                self.modalForm.dismiss();\n                retrieve.init({\n                    ajaxUrl: self.retrieveListUrl,\n                    dataType: 'html'\n                });\n                retrieve.action({\n                    params: '/' + data.member_id,\n                    callback: function(data) {\n                        self._refreshList(data);\n                    }\n                });\n            },\n            errorAction: function(errors) {\n                var formErrors = Object.create(FormErrors);\n                formErrors.show({\n                    append: true,\n                    messages: '#error_messages',\n                    errors: errors\n                });\n            }\n        });\n        // Delete functionality\n        this.ajaxDelete.init({\n            ajaxUrl: self.deleteDataUrl,\n            dataType: 'html'\n        });\n        this.ajaxDelete.setCallback(function(data) {\n            self._refreshList(data);\n        });\n\n        this.modalForm.init({\n            addSelector: this.addSelector,\n            editSelector: this.editSelector,\n            formSelector: this.formSelector,\n            idSelector: this.idSelector,\n            modalSelector: this.modalSelector,\n            saveSelector: this.saveSelector,\n            deleteSelector: this.deleteSelector,\n            submitSelector: this.submitSelector,\n            getAjax: this.ajaxGet,\n            saveAjax: this.ajaxSave,\n            deleteAjax: this.ajaxDelete,\n        });\n    },\n    _refreshList: function(data) {\n        var $htmlList = $(this.listSelector);\n        $htmlList.empty();\n        $htmlList.append(data);\n        this.modalForm.refresh();\n    }\n};","/**\n * AjaxGet.js -- Simple wrapper for jQuery AJAX with callback\n *\n * Usage:\n * var mySelect = Object.create(AjaxGet);\n * mySelect.init([options]);\n *\n * options:\n * @type {\n        ajaxUrl: string,    // Endpoint URL\n        params: string,     // Parameters to pass\n        callback: function  // Function called on success. Passes returned data\n    }\n */\n\nvar AjaxGet = {\n    ajaxUrl: '',\n    dataType: 'json',\n    urlWithParams: '',\n    params: '',\n    callback: function(){},\n    init: function(options) {\n        $.extend(this, options);\n    },\n    action: function(arg) {\n        this.params = this._serialize(arg.params);\n        this.urlWithParams = this.ajaxUrl + this.params;\n        if (typeof(arg.callback) == 'function') {\n            this.callback = arg.callback;\n        }\n        this._doAjax();\n    },\n    setCallback: function(callback) {\n        this.callback = callback;\n    },\n    _doAjax: function() {\n        var self = this;\n        $.ajax({\n            type: \"GET\",\n            url: this.urlWithParams,\n            dataType: this.dataType,\n            success: function (response) {\n                if (self.dataType == 'html') {\n                    self.callback(response);\n                    return;\n                }\n                if (response.success) {\n                    if (response.data) {\n                        self.callback(response.data);\n                    }\n                }\n            },\n            error: function (data) {\n                console.log(data);\n            }\n        });\n    },\n    _serialize: function(params) {\n        if (typeof(params) == 'object') {\n            return $.param(params);\n        } else {\n            return params;\n        }\n    }\n};","/**\n * AjaxPost.js -- Simple wrapper for jQuery AJAX with callback\n *\n * Usage:\n * var myPost = Object.create(AjaxPost);\n * myPost.init([options]);\n *\n * options:\n * @type {\n        ajaxUrl: string,    // Endpoint URL\n        formSelector: string,     // Selector of form object\n        callback: function  // Function called on success. Passes returned data\n    }\n*/\n\nvar AjaxPost = {\n    formSelector: '',\n    params: null,\n    setupAction: function(){},\n    cleanupAction: function(){},\n    newAction: function(){},\n    successAction: function(){},\n    errorAction: function(){},\n    init: function(options) {\n        $.extend(this, options);\n        this._setEvents();\n    },\n    action: function(arg) {\n        this.params = this._serialize(arg.params);\n        $(this.formSelector).submit();\n    },\n    _setEvents: function() {\n        var self = this;\n        $(this.formSelector).on('submit', function (e) {\n            var formAction = this.action + self.params;\n            $.ajaxSetup({\n                header: $('meta[name=\"_token\"]').attr('content')\n            });\n            e.preventDefault(e);\n\n            self.setupAction();\n\n            $.ajax({\n                type: \"POST\",\n                url: formAction,\n                data: $(this).serialize(),\n                dataType: 'json',\n                success: function (response) {\n                    if (response.errors) {\n                        self.errorAction(response.errors);\n                        return;\n                    }\n                    if (response.is_new) {\n                        self.newAction(response.data);\n                    }\n                    if (response.status) {\n                        self.cleanupAction();\n                        self.successAction(response.data);\n                    }\n                },\n                error: function (response) {\n                    console.log(response);\n                    self.cleanupAction();\n                    // Warn user that the session has timed out, then reload to go to login page\n                    if (response.status == '401') {\n                        alert(appSpace.authTimeout)\n                        location.reload();\n                    }\n                }\n            })\n        });\n    },\n    _serialize: function(params) {\n        if (typeof(params) == 'object') {\n            return $.param(params);\n        } else {\n            return params;\n        }\n    }\n};","/* FieldToggle provides support for toggling visibility of one to several fields\n * Usage: Place in listener for the 'actor' field\n *\n var fieldToggle = Object.create(FieldToggle);\n fieldToggle.doToggle({\n     toggleType: 'select',\n     actorSelector: '#' + $(this).attr('id'),\n     actionSelector: '.form-group.leadership-date',\n     emptyValue: '0'\n });\n *\n *\n * */\nvar FieldToggle = {\n    toggleType: null,\n    actorSelector: null,\n    actionSelector: null,\n    emptyValue: null,\n    multiAttribute: null,\n    doToggle: function(options) {\n        $.extend(this, options);\n        switch (this.toggleType) {\n            case 'checkbox':\n                this._doCheckbox();\n                break;\n            case 'select':\n                this._doSelect();\n                break;\n            case 'select_multi':\n                this._doSelectMulti();\n                break;\n        }\n\n    },\n    _doCheckbox: function() {\n        var $thisActor = $(this.actorSelector);\n        var $thisAction = $(this.actionSelector);\n        var toggle = ($thisActor.is(':checked')) ? 'show' : 'hide';\n        $thisAction.removeClass('show hide');\n        $thisAction.addClass(toggle);\n    },\n    _doSelect: function() {\n        var $thisActor = $(this.actorSelector);\n        var $thisAction = $(this.actionSelector);\n        var toggle = ($thisActor.val() != this.emptyValue) ? 'show' : 'hide';\n        $thisAction.removeClass('show hide');\n        $thisAction.addClass(toggle);\n    },\n    _doSelectMulti: function() {\n        var self = this;\n        $(this.actionSelector).each(function () {\n            var $this = $(this);\n            var thisValue = $this.attr(self.multiAttribute);\n            var currentVal = $(self.actorSelector).val();\n            var toggle = (currentVal >= thisValue) ? 'show' : 'hide';\n            $this.removeClass('show hide');\n            $this.addClass(toggle);\n        });\n    }\n}\n\n","var FormErrors = {\n    dialog: null,\n    messages: null,\n    append: false,\n    errors: null,\n    show: function(options) {\n        $.extend(this, options);\n        this._clear();\n        if (this.dialog != null) {\n            this._listMessages();\n            $(this.dialog).modal();\n        }\n        if (this.append) {\n            this._appendMessages();\n        }\n    },\n    _clear: function() {\n        $('input, select, textarea').removeClass('error');\n        $('.form-error').remove();\n        $(this.messages).empty();\n    },\n    _listMessages: function() {\n        for (var field in this.errors) {\n            if (this.errors.hasOwnProperty(field)) {\n                $('input[name=' + field + '], select[name=' + field + ']').addClass('error');\n                $(this.messages).append('<li class=\"dialog-error\">' + this.errors[field] + '</li>');\n            }\n        }\n    },\n    _appendMessages: function() {\n        for (var field in this.errors) {\n            if (this.errors.hasOwnProperty(field)) {\n                var $field = $('input[name=' + field + '], select[name=' + field + ']');\n                var $parent = $field.parent();\n                $field.addClass('error');\n                $parent.append('<div class=\"form-error\">' + this.errors[field] + '</div>');\n            }\n        }\n    }\n};\n","/**\n * ModalForm.js\n *\n * Retrieves value from endpoint (ajaxUrl) and uses them to refresh dropdown. Useful for dataTable.js filters\n *\n * Usage:\n * var myForm = Object.create(ModalForm);\n * myForm.init([options]);\n *\n * options:\n * @type {\n        ajaxUrl: string,    // Endpoint URL\n        selector: string,   // Selector for dropdown\n        isChild: boolean,   // If dropdown is child of selector (above), use .find('select')\n        prepend: Object,    // <option> to prepend to dropdown (e.g., {value: '0', text: 'Select'}\n        useOriginalValues: boolean, // Use only the values that were originally in the dropdown\n        width: string       // Set width of dropdown\n    }\n */\n\nvar ModalForm = {\n    ajaxUrl: '',\n    getAjax: null,\n    saveAjax: null,\n    deleteAjax: null,\n    addSelector: null,\n    editSelector: null,\n    formSelector: null,\n    idSelector: null,\n    modalSelector: null,\n    saveSelector: null,\n    deleteSelector: null,\n    submitSelector: null,\n    itemId: null,\n    form: null,\n    modal: null,\n    action: {},\n    useOriginalValues: false,\n    selectedItemId: 0,\n    width: null,\n    dd: null,\n    originalValues: [],\n    params: null,\n    init: function(options) {\n        $.extend(this, options);\n        this.form = $(this.formSelector);\n        this._setEvents();\n    },\n    refresh: function() {\n        this._setEvents();\n    },\n    show: function(itemId) {\n        this.itemId = itemId;\n        this._setAction(this.saveSelector)\n        this._clearForm(itemId);\n        this._setEvents()\n        this._initModal();\n    },\n    dismiss: function() {\n        this.modal.modal('hide');\n    },\n    _clearForm: function(itemId) {\n        this.form[0].reset();\n        if (typeof(itemId) != 'undefined' && this.idSelector != null) {\n            $(this.idSelector).val(itemId);\n        }\n    },\n    _deleteItem: function() {\n        this.deleteAjax.action({\n            params: '/' + this.itemId\n        });\n    },\n    _disableForm: function(shouldDisable) {\n        if (shouldDisable) {\n           this.form.find(':input:not(:disabled)').prop('disabled',true)\n        } else {\n           this.form.find(':input(:disabled)').prop('disabled',false)\n        }\n    },\n    _initModal: function() {\n        this.modal = $(this.modalSelector);\n        this.modal.modal();\n    },\n    _populate: function(data) {\n        for (var key in data) {\n            if (data.hasOwnProperty(key)) {\n                var value = (data[key] != null) ? data[key] : '';\n                var $field = $('#' + key);\n                if ($field.length > 0) {\n                    $field.val(value);\n                }\n            }\n        }\n    },\n    _retrieveItem: function (itemId) {\n        var self = this;\n        this.itemId = itemId;\n        this.getAjax.action({\n            params: '/' + itemId,\n            callback: self._populate\n        });\n        this._initModal();\n    },\n    _saveItem: function() {\n        this.saveAjax.action({\n            params: '/' + this.itemId\n        });\n    },\n    _setAction: function(action) {\n        $(this.saveSelector + ', ' + this.deleteSelector).hide();\n        $(action).show();\n    },\n    _setEvents: function() {\n        var self = this;\n        var $edits = $(this.editSelector).find('[data-id]');\n        var $deletes = $(this.editSelector).find('[data-delete]');\n        $edits.off().on('click', function() {\n            var id = $(this).attr('data-id');\n            self._disableForm(false);\n            self._setAction(self.saveSelector)\n            self._retrieveItem(id);\n        });\n        $deletes.off().on('click', function(evt) {\n            var id = $(this).attr('data-delete');\n            evt.stopPropagation();\n            self._disableForm(true);\n            self._setAction(self.deleteSelector)\n            self._retrieveItem(id);\n            return;\n        });\n\n        $(this.addSelector).off().on('click', function() {\n            self._disableForm(false);\n            self.show(0);\n        });\n\n        $(this.saveSelector).off().on('click', function () {\n            if (self.itemId != null) {\n                self._saveItem();\n            }\n        });\n\n        $(this.deleteSelector).off().on('click', function () {\n            if (self.itemId != null) {\n                self._deleteItem();\n            }\n        });\n         // Detect any changes to the form data\n        $(this.formSelector).dirtyForms()\n         .on('dirty.dirtyforms clean.dirtyforms', function (ev) {\n             var $submitButton = $(self.submitSelector);\n             if (ev.type === 'dirty') {\n                 $submitButton.removeAttr('disabled');\n             } else {\n                 $submitButton.attr('disabled', 'disabled');\n             }\n         });\n\n\n    }\n};","/**\n * ReviseSelect.js\n *\n * Retrieves value from endpoint (ajaxUrl) and uses them to refresh dropdown. Useful for dataTable.js filters\n *\n * Usage:\n * var mySelect = Object.create(ReviseSelect);\n * mySelect.init([options]);\n *\n * options:\n * @type {\n        ajaxUrl: string,    // Endpoint URL\n        selector: string,   // Selector for dropdown\n        isChild: boolean,   // If dropdown is child of selector (above), use .find('select')\n        prepend: Object,    // <option> to prepend to dropdown (e.g., {value: '0', text: 'Select'}\n        useOriginalValues: boolean, // Use only the values that were originally in the dropdown\n        width: string       // Set width of dropdown\n    }\n */\n\nvar ReviseSelect = {\n    ajaxUrl: '',\n    selector: null,\n    isChild: false,\n    prepend: null,\n    useOriginalValues: false,\n    width: null,\n    dd: null,\n    originalValues: [],\n    params: null,\n    init: function(options) {\n        $.extend(this, options);\n        this._setDD();\n        if (this.useOriginalValues) {\n            this.params = this._serialize();\n        }\n        this._doAjax();\n    },\n    _doAjax: function() {\n        var self = this;\n        $.ajax({\n            type: \"GET\",\n            url: this.ajaxUrl + '?' + this.params,\n            dataType: 'json',\n            success: function (response) {\n                if (response.success) {\n                    self._reloadDD(response.data);\n                }\n            },\n            error: function (data) {\n                console.log(data);\n            }\n        });\n    },\n    _reloadDD: function(data) {\n        this.dd.empty();\n        if (this.prepend != null) {\n            this.dd.append($('<option>', {value: this.prepend.value, text: this.prepend.text}));\n        }\n        for (var key in data) {\n            if (data.hasOwnProperty(key)) {\n                var text = data[key];\n                this.dd.append($('<option>', {value: key, text: text}));\n            }\n        }\n    },\n    _setDD: function() {\n        var $select = $(this.selector);\n        this.dd = (this.isChild) ? $select.find('select') : $select;\n        if (this.width != null) {\n            this.dd.css({width: this.width})\n        }\n    },\n    _serialize: function() {\n        var self = this;\n        var $options = this.dd.find('option');\n        $options.each(function () {\n            var value = $(this).attr('value');\n            if (value.length > 0) {\n                self.originalValues.push(value);\n            }\n        });\n        return (this.originalValues.length > 0) ? $.param({values: this.originalValues}) : '';\n    }\n};","/**\n * TableManager.js\n *\n * Supports DataTable.js table with Twitter typeahead.js search field.\n * Features support for Add and Remove functions via AJAX.\n *\n @type{\n        typeaheadUrl: string, // URL to retrieve suggestions for typeahead field\n        addUrl: string,  // URL for adding to table via \"Add\" button\n        removeUrl: string, // URL for removing from table via \"X\" remove icons\n        idName: string, // Name of ID field for each table row\n        tableSelector: string, // Selector of the table\n        searchSelector: string, // Selector of the search input field\n        addSelector: string, // Selector of the Add button\n        removeSelector: string // Select of the Remove icons\n        timeoutMessage: string // Alert message sent to user if session has timed out.\n        canEdit: boolean // Enables editing features if true\n    }\n */\nvar TableManager = {\n    typeaheadUrl: '',\n    addUrl: '',\n    removeUrl: '',\n    idName: '',\n    tableSelector: '',\n    searchSelector: '',\n    addSelector: '',\n    removeSelector: '',\n    timeoutMessage: 'Your session has expired and you have been logged out',\n    canEdit: false,\n    table: null,\n    search: null,\n    add: null,\n    remove: null,\n    bloodhound: null,\n    onTableComplete: function () {\n    },\n    ajaxCallback: function () {\n    },\n    init: function (options) {\n        $.extend(this, options);\n        this._setTable();\n        if (this.canEdit) {\n            this._setBloodhound();\n            this._setTypeahead();\n            this._setListeners();\n        }\n    },\n    _doAjax: function (url, idParam, ajaxCallback) {\n        this.ajaxCallback = ajaxCallback;\n        var self = this;\n        $.ajax({\n            type: \"GET\",\n            url: url + '&' + idParam,\n            dataType: 'json',\n            success: function (response) {\n                if (response.success) {\n                    if (response.data) {\n                        self.ajaxCallback(response.data);\n                    }\n                }\n            },\n            error: function (response) {\n                console.log(response);\n                if (response.status == '401') {\n                    alert(self.timeoutMessage)\n                    location.reload();\n                }\n            }\n        });\n    },\n    _onAddComplete: function (data) {\n        var newRow = this.table.row.add([\n                data.name,\n                data.phone,\n                '<a href=\"mailto:' + data.email + '\">' + data.email + '</a>',\n                data.coven,\n                '<i class=\"fa fa-close guild-remove\"></i>'\n            ])\n            .draw()\n            .node();\n        // Add the data-id attribute to the newly created row\n        $(newRow).attr('data-id', data.member_id);\n        // Add the 'remove' icon\n        var $remove = $(newRow).find('i').parent();\n        $remove.addClass('remove');\n        // Refresh remove listener\n        this._setListenerRemove();\n        // Disable add button and clear search field\n        this.search.typeahead('val', '');\n        this.add.attr('disabled', 'disabled');\n    },\n    _onRemoveComplete: function () {\n\n    },\n    _setBloodhound: function () {\n        var self = this;\n        this.bloodhound = new Bloodhound({\n            datumTokenizer: function (datum) {\n                return Bloodhound.tokenizers.whitespace(datum.value);\n            },\n            queryTokenizer: Bloodhound.tokenizers.whitespace,\n            remote: {\n                wildcard: '%QUERY',\n                url: self.typeaheadUrl,\n                transform: function (response) {\n                    // Populate typeahead list with returned data\n                    return $.map(response, function (data) {\n                        return {\n                            id: data.id,\n                            value: data.value\n                        };\n                    });\n                }\n            }\n        });\n    },\n    _setListeners: function () {\n        this._setListenerAdd();\n        this._setListenerRemove();\n        this._timeoutListener();\n    },\n    _setListenerAdd: function () {\n        var self = this;\n        this.add = $(this.addSelector);\n        this.add.on('click', function () {\n            var idValue = self.search.data(self.idName);\n            self._doAjax(self.addUrl, self.idName + '=' + idValue, self._onAddComplete);\n        });\n    },\n    _setListenerRemove: function () {\n        var self = this;\n        this.remove = $(this.removeSelector);\n        this.remove.off().on('click', function (evt) {\n            evt.stopPropagation();\n            var $row = $(this).closest('tr');\n            var idValue = $row.attr('data-id');\n            $row.hide();\n            self.table\n                .row($(this).parents('tr'))\n                .remove()\n                .draw();\n            self._doAjax(self.removeUrl, self.idName + '=' + idValue, self._onRemoveComplete);\n        });\n    },\n    _setTable: function () {\n        var self = this;\n        this.table = $(this.tableSelector).DataTable({\n            lengthMenu: [[10, 25, 50, -1], [10, 25, 50, \"All\"]], // Number of entries to show\n            iDisplayLength: -1,\n            aaSorting: [],\n            columnDefs: [\n                {orderable: false, targets: (self.canEdit) ? 4 : 3}\n            ],\n            fnDrawCallback: function () {\n                // Hide pagination buttons of only one page is showing\n                var $paginates = $('.dataTables_paginate').find('.paginate_button');\n                $('.dataTables_paginate').toggle($paginates.length > 3);\n            },\n            initComplete: function () {\n                var $search = $($(this).selector + '_filter').find('input[type=\"search\"]');\n                // Add 'clearable' x to search field, and callback to restore table on clear\n                $search.clearable({\n                    onClear: function () {\n                        self.table.search('').columns().search('').draw();\n                    }\n                });\n                // Add filter dropdowns to dataTables.js header\n                var addFilters = Object.create(AddColumnFilters);\n                addFilters.init({dataTables: this});\n                // Do callback\n                self.onTableComplete();\n            }\n        });\n    },\n    _setTypeahead: function () {\n        var self = this;\n        this.search = $(this.searchSelector);\n        this.search.typeahead(null, {\n            name: 'id',\n            display: 'value',\n            source: this.bloodhound,\n            hint: true,\n            highlight: true,\n            limit: Infinity,\n        }).on('typeahead:selected', function (evt, data) {\n            self.search.data(self.idName, data.id);\n            self.add.removeAttr('disabled');\n        }).on('input', function () {\n            if ($(this).val() == '') {\n                self.add.attr('disabled', 'disabled');\n            }\n        }).clearable({\n            onClear: function (target) {\n                // Clear typeahead and disable the add button\n                target.typeahead('val', '');\n                self.add.attr('disabled', 'disabled');\n            }\n        });\n    },\n    _timeoutListener: function(){\n        /* This is a workaround for Bloodhound's lack of error handling.\n           It attempts to send a call to the 'typeaheadUrl'.\n           If the session has timed out, it will return a 401 'Unauthorized' error.\n           This will alert the user, then return them to the login page.\n        */\n        var self = this;\n        this.search.on('keyup', function() {\n            var test = $.get(self.typeaheadUrl);\n            test.error(function(response) {\n                if (response.status == '401') {\n                    alert(self.timeoutMessage)\n                    location.reload();\n                }\n            });\n        });\n    }\n};\n","/**\n * UrlQuery.js\n *\n * Get URL query variables or URL parts\n *\n * Usage:\n * var query = Object.create(UrlQuery); // Create instance\n * With no arg, getUrlPart gets part. Negative numbers get parts in reverse order\n * var last = query.getUrlPart();\n * Get variable from query string (e.g., ?my_var=foo)\n * var myVar = query.getVar('my_var');\n *\n */\nvar UrlQuery = {\n    getVar: function (varName) {\n        var vars = this.getUrlVars();\n        return (vars[varName]);\n    },\n    getUrlVars: function () {\n        var vars = [], hash;\n        var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');\n        for (var i = 0; i < hashes.length; i++) {\n            hash = hashes[i].split('=');\n            vars.push(hash[0]);\n            vars[hash[0]] = hash[1];\n        }\n        return vars;\n    },\n    getUrlPart: function(index) {\n        index = index || - 1;\n        var parts = window.location.href.split('/');\n        return (index < 0) ? parts.slice(index)[0] : (parts[index]);\n    }\n}\n","// JS code for Member Edit page\n\n$(document).ready(function ($) {\n\n    if ($('#member_store').is('*') || $('#member_update').is('*')) {\n        // Set date pickers\n        $('.date-pick').datepicker({\n            format: 'MM d, yyyy',\n            orientation: 'bottom'\n        });\n\n         // Detect any changes to the form data\n         $('#member_store, #member_update').dirtyForms()\n             .on('dirty.dirtyforms clean.dirtyforms', function (ev) {\n                 var $submitButton = $('#submit_update');\n                 if (ev.type === 'dirty') {\n                     $submitButton.removeAttr('disabled');\n                 } else {\n                     $submitButton.attr('disabled', 'disabled');\n                 }\n             });\n\n        // Create/Save for Member form\n        var memberSave = Object.create(AjaxPost);\n        memberSave.init({\n            formSelector: '#member_store, #member_update',\n            setupAction: function(){\n                $('#member_saving').removeClass('hidden');\n                $('.saved').addClass('hidden');\n            },\n            cleanupAction: function(){\n                $('#member_store, #member_update').dirtyForms('setClean');\n                $('#submit_update').attr('disabled', 'disabled');\n                $('#member_saving').addClass('hidden');\n                $('input, select, textarea').removeClass('error');\n            },\n            newAction: function(data){\n                document.location = appSpace.baseUrl + '/member/details/' + data.member_id;\n            },\n            successAction: function(){\n                $('.saved').removeClass('hidden')\n                    .show()\n                    .fadeOut(3000);\n            },\n            errorAction: function(errors){\n                $('#member_saving').addClass('hidden');\n                var formErrors = Object.create(FormErrors);\n                formErrors.show({\n                    append: true,\n                    messages: '#error_messages',\n                    errors: errors\n                });\n            }\n         });\n\n        // CRUD for Contacts\n        var contactsCRUD = Object.create(AjaxCRUD);\n        contactsCRUD.init({\n            formSelector: '#update_contact',\n            addSelector: '#add_contact',\n            editSelector: '#contacts',\n            idSelector: '#contact_id',\n            listSelector: '#contacts',\n            modalSelector: '#contact_modal',\n            saveSelector: '#contact_save',\n            deleteSelector: '#contact_delete',\n            submitSelector: '#contact_save',\n            retrieveFormUrl: appSpace.baseUrl + '/contact/show',\n            retrieveListUrl: appSpace.baseUrl + '/member/contacts',\n            deleteDataUrl: appSpace.baseUrl + '/contact/delete',\n        });\n\n         // CRUD for Dues payments\n        var duesCRUD = Object.create(AjaxCRUD);\n        duesCRUD.init({\n            formSelector: '#update_dues',\n            addSelector: '#add_dues',\n            editSelector: '#dues',\n            idSelector: '#dues_id',\n            listSelector: '#dues',\n            modalSelector: '#dues_modal',\n            saveSelector: '#dues_save',\n            deleteSelector: '#dues_delete',\n            submitSelector: '#dues_save',\n            retrieveFormUrl: appSpace.baseUrl + '/dues/show',\n            retrieveListUrl: appSpace.baseUrl + '/member/dues',\n            deleteDataUrl: appSpace.baseUrl + '/dues/delete',\n        });\n\n        // CRUD for Board Roles\n        var rolesCRUD = Object.create(AjaxCRUD);\n        rolesCRUD.init({\n            formSelector: '#update_role',\n            addSelector: '#add_role',\n            editSelector: '#board_roles',\n            idSelector: '#roles_id',\n            listSelector: '#board_roles',\n            modalSelector: '#role_modal',\n            saveSelector: '#role_save',\n            deleteSelector: '#role_delete',\n            submitSelector: '#role_save',\n            retrieveFormUrl: appSpace.baseUrl + '/role/show',\n            retrieveListUrl: appSpace.baseUrl + '/member/roles',\n            deleteDataUrl: appSpace.baseUrl + '/role/delete',\n        });\n    }\n});\n","// JS code for Member List page\n\n$(document).ready(function ($) {\n    if ($('.member-list').is('*')) {\n        $('.member-list tbody tr').on('click', function () {\n            var id = $(this).attr('data-id');\n            document.location = appSpace.baseUrl + '/member/details/' + id;\n        });\n\n        var mainMemberList = $('#main_member_list').DataTable({\n            lengthMenu: [[10, 25, 50, -1], [10, 25, 50, \"All\"]], // Number of entries to show\n            iDisplayLength: -1,\n            aaSorting: [],\n            fnDrawCallback: function() {\n                // Hide pagination buttons of only one page is showing\n                var $paginates = $('.dataTables_paginate').find('.paginate_button');\n                $('.dataTables_paginate').toggle($paginates.length > 3);\n            },\n            initComplete: function () {\n                var $search = $($(this).selector + '_filter').find('input[type=\"search\"]');\n                // Add 'clearable' x to search field, and callback to restore table on clear\n                $search.addClass('clearable').clearable({\n                    onClear: function() {\n                        guildMemberList.search( '' ).columns().search( '' ).draw();\n                    }\n                });\n                // Add filter dropdowns to dataTables.js header\n                var addFilters = Object.create(AddColumnFilters);\n                addFilters.init({ dataTables: this });\n                // Retrieve coven names into select via AJAX\n                var reviseSelect = Object.create(ReviseSelect);\n                reviseSelect.init({\n                    ajaxUrl: '/public/member/covens',\n                    selector: '[aria-label^=\"Coven\"]',\n                    width: '75px',\n                    isChild: true,\n                    prepend: {value: '', text: 'Coven'},\n                    useOriginalValues: true\n                });\n            }\n        });\n    }\n});\n\n","// JS code for Member List page\n\n$(document).ready(function ($) {\n    if ($('.missing-list').is('*')) {\n        $('.missing-list tbody tr').on('click', function () {\n            var id = $(this).attr('data-id');\n            document.location = appSpace.baseUrl + '/member/details/' + id;\n        });\n    }\n});\n\n","\n/**\n * First we will load all of this project's JavaScript dependencies which\n * includes Vue and other libraries. It is a great starting point when\n * building robust, powerful web applications using Vue and Laravel.\n */\n\nrequire('./bootstrap');\n\nwindow.Vue = require('vue');\n\n/**\n * Next, we will create a fresh Vue application instance and attach it to\n * the page. Then, you may begin adding components to this application\n * or customize the JavaScript scaffolding to fit your unique needs.\n */\n\nVue.component('example', require('./components/Example.vue'));\n\nconst app = new Vue({\n    el: '#app'\n});\n"],"sourceRoot":"/source/"}